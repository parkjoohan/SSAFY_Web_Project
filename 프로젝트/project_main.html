<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <title>HappyHouse</title>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=6aa07b0f5d18874d44c830b57f8392a0"></script>    
    <script type="text/javascript">
        var map, marker;
        $(document).ready(function () {

            // 초기 kakao map 설정 start
            var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
            // var lat = 37.5012743;
            // var lng = 127.039585;
            var locPosition = new kakao.maps.LatLng(37.5012743, 127.039585); // (멀티캠퍼스)
            var options = { //지도를 생성할 때 필요한 기본 옵션
                center: locPosition, //지도의 중심좌표. 
                level: 3 //지도의 레벨(확대, 축소 정도)
            };

            map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴

            // HTML5의 geolocation으로 사용할 수 있는지 확인합니다 
            if (navigator.geolocation) {

                // GeoLocation을 이용해서 접속 위치를 얻어옵니다
                navigator.geolocation.getCurrentPosition(function (position) {

                    var lat = position.coords.latitude, // 위도
                        lon = position.coords.longitude; // 경도

                    locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
                    var message = '<div style="padding:5px;">현재위치인가요?!</div>'; // 인포윈도우에 표시될 내용입니다

                    // 마커와 인포윈도우를 표시합니다
                    displayMarker(locPosition, message);

                });

            } else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다

                locPosition = new kakao.maps.LatLng(33.450701, 126.570667);
                var message = 'geolocation을 사용할수 없어요..';

                displayMarker(locPosition, message);
            }
            // 초기 kakao map 설정 end

            var cafeArea = {
                "서울": ["역삼점", "선릉점"],
                "대전": ["학하점", "봉명점"],
                "구미": ["연수원점", "구미사업장"],
                "광주": ["하남산단점", "광주역점"],
                "부울경": ["부산사업장점", "녹산산단점"]
            };

            var officePosition = {
                "역삼점": { "lat": 37.500613, "lng": 127.036431 },
                "선릉점": { "lat": 37.504268, "lng": 127.048188 },
                "학하점": { "lat": 36.355360, "lng": 127.298294 },
                "봉명점": { "lat": 36.358843, "lng": 127.344192 },
                "연수원점": { "lat": 36.098594, "lng": 128.389770 },
                "구미사업장": { "lat": 36.109553, "lng": 128.415011 },
                "하남산단점": { "lat": 35.204279, "lng": 126.807198 },
                "광주역점": { "lat": 35.165476, "lng": 126.909216 },
                "부산사업장점": { "lat": 35.095765, "lng": 128.856344 },
                "녹산산단점": { "lat": 35.093641, "lng": 128.855679 }
            };

            var officeAddress = {
                "역삼점": "서울특별시+강남구+역삼동+테헤란로+212",
                "선릉점": "서울특별시 강남구 역삼동 테헤란로 334 LG 화재빌딩",
                "학하점": "대전광역시 유성구 덕명동 124",
                "봉명점": "대전광역시 유성구 봉명동 대학로 60 봉명가든 6층",
                "연수원점": "경상북도 구미시 공단동 259",
                "구미사업장": "경상북도 구미시 임수동 94",
                "하남산단점": "107 하남산단6번로 광산구 광주광역시",
                "광주역점": "광주광역시 북구 중흥동 611",
                "부산사업장점": "부산광역시 강서구 송정동 녹산산업중로 삼성전기 부산사업장사",
                "녹산산단점": "부산광역시 강서구 송정동 삼성전기부속의원"
            };

            $(".dropdown-item.cafe_area").click(function () {
                var selArea = $(this).text();
                $("#areaBtn").text(selArea);
                $("#officeBtn").text('지점선택');
                var offices = cafeArea[selArea];
                $("#office_div").empty();
                $.each(offices, function (i, office) {
                    $("#office_div").append('<label class="dropdown-item cafe_office">' + office + '</label>');
                });
            });

            //officePosition의 lat, lng를 이용한 marker
            $(document).on("click", ".dropdown-item.cafe_office", function () {
                var selOffice = $(this).text();
                $("#officeBtn").text(selOffice);
                var office = officePosition[selOffice];


                // 이동할 위도 경도 위치를 생성합니다 
                var moveLatLon = new kakao.maps.LatLng(office.lat, office.lng);
                var message = `<div style="padding:5px;">${selOffice}</div>`;

                // 지도 중심을 부드럽게 이동시킵니다
                // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다
                map.panTo(moveLatLon);

                displayMarker(moveLatLon, message);
            });
        });

        function displayMarker(locPosition, message) {
            if (marker)
                marker.setMap(null); // 기존 maker 제거

            var imageSrc = 'https://.pngtree.com/so/빨간', // 마커이미지의 주소입니다    
                imageSize = new kakao.maps.Size(50, 70), // 마커이미지의 크기입니다
                imageOption = { offset: new kakao.maps.Point(27, 69) }; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.

            // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
            var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);

            // 마커를 생성합니다
            marker = new kakao.maps.Marker({
                map: map,
                position: locPosition,
                image: markerImage
            });

            var iwContent = message, // 인포윈도우에 표시할 내용
                iwRemoveable = true;

            // 인포윈도우를 생성합니다
            var infowindow = new kakao.maps.InfoWindow({
                content: iwContent,
                removable: iwRemoveable
            });

            // 인포윈도우를 마커위에 표시합니다 
            infowindow.open(map, marker);

            // 지도 중심좌표를 접속위치로 변경합니다
            map.setCenter(locPosition);
        }
    </script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm bg-dark">
        <!-- Links -->
        <div class="navbar-collapse justify-content-end">
            <button class="btn btn-sm btn-dark" type="button" onclick="location.href='project_signup.html'">
                <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
                width="16"
                height="16"
                >
                <path
                fill="#FFF"
                fill-rule="evenodd"
                d="M10.5 5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm.061 3.073a4 4 0 10-5.123 0 6.004 6.004 0 00-3.431 5.142.75.75 0 001.498.07 4.5 4.5 0 018.99 0 .75.75 0 101.498-.07 6.005 6.005 0 00-3.432-5.142z"
                ></path>
                </svg>
                SignUp
            </button>
            <div class="btn-group">
            <button id="header-top-drop-2" type="button" class="btn dropdown-toggle btn-sm btn-dark 
            btn-sm dropdown-toggle--no-caret" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
                width="16"
                height="16"
                >
                <path
                fill="#FFF"
                fill-rule="evenodd"
                d="M10.5 5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm.061 3.073a4 4 0 10-5.123 0 6.004 6.004 0 00-3.431 5.142.75.75 0 001.498.07 4.5 4.5 0 018.99 0 .75.75 0 101.498-.07 6.005 6.005 0 00-3.432-5.142z"
                ></path>
                </svg>
                <i class="fa fa-lock pr-2"></i>
                Login
            </button>
            <ul class="dropdown-menu dropdown-menu-right dropdown-animation" aria-labelledby="header-top-drop-2">
                <li>
                    <form class="login-form margin-clear" action="/login.do" method="post">
                        <div class="form-group has-feedback">
                            <label class="control-label">아 이 디</label> <input type="text" class="form-control" placeholder="" name="id">
                            <i class="fa fa-user form-control-feedback"></i>
                        </div>
                        <div class="form-group has-feedback">
                            <label class="control-label">비밀번호</label> <input type="password" class="form-control" placeholder="" name="pw"> <i class="fa fa-lock form-control-feedback"></i>
                        </div>
                        <button type="submit" class="btn btn-gray btn-sm">
                            로 그 인</button>													 
                        <ul class="pagination">
                            <!--
                            <li><a href="#" class="btn btn-default btn-sm">아이디
                                    찾기</a></li>
                            -->		
                            <li><a href="passwordSearchForm.do" class="btn btn-default btn-sm">비밀번호
                                    찾기</a></li>
                        </ul>													 
                    </form>
                </li>
            </ul>
            </div>
        </div>
        </nav>

        <nav>
        <div>
            <nav class="navbar navbar-expand-md bg-light navbar-light">
            <!-- Brand/logo -->
            <a class="navbar-brand" href="#"><img src="./img/ssafy_logo.png" alt="" srcset="" /></a>

            <!-- Links -->
                <div
                class="collapse navbar-collapse justify-content-end"
                id="collapsibleNavbar"
                >
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">공지사항</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">오늘의 뉴스</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">주변 탐방</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">관심 지역 설정</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">관심 지역 둘러보기</a>
                    </li>
                    <li class="nav-item">
                    <button class="btn btn-light" type="button">
                        <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 16 16"
                        width="16"
                        height="16"
                        >
                        <path
                        fill-rule="evenodd"
                        d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"
                        ></path>
                        </svg>
                    </button>
                    </li>
                </ul>
                </div>
            </nav>
        </div>
        </nav>
        <nav>
            <h1 align="center">HAPPY HOUSE</h1>
            <hr aligh="center" style="border:solid 2px black; width:60%">
            <h3 align="center">행복한 우리집</h3><br>
        </nav>
        
        <!-- 버튼 -->
        <nav>
            <div class="dark-bg section">
                <div class="container-fluid">
                <!-- filters start -->
                <div class="sorting-filters text-center mb-20 d-flex justify-content-center">
                <form class="form-inline" id="frm"  action="searchRecentHouseDeal.do">
                    <div class="form-group md">
                        <select class="form-control" name="city" id="city">
                            <option value="all" >도/광역시</option>
                                <option value="서울특별시" >서울시</option>
                                <option value="경기도" >경기도</option>
                                <option value="인천광역시" >인천광역시</option>
                                <option value="부산광역시" >부산광역시</option>
                                <option value="대전광역시" >대전광역시</option>
                                <option value="대구광역시" >대구광역시</option>
                                <option value="울산광역시" >울산광역시</option>
                                <option value="세종특별자치시" >세종시</option>
                                <option value="광주광역시" >광주광역시</option>
                                <option value="강원도" >강원도</option>
                                <option value="충청북도" >충청북도</option>
                                <option value="경상북도" >경상북도</option>
                                <option value="경상남도" >경상남도</option>
                                <option value="전라북도" >전라북도</option>
                                <option value="전라남도" >전라남도</option>
                                <option value="제주특별자치도" >제주도</option>
                        </select>
                    </div>
                    <div class="form-group md-1">
                        <select class="form-control" name="dongcode" id="gu">
                            <option value="all" >시/구/군</option>
                            <option value="도봉구">도봉구</option>
                                <option value="은평구">은평구</option>
                                <option value="동대문구">동대문구</option>
                                <option value="동작구">동작구</option>
                                <option value="금천구">금천구</option>
                                <option value="구로구">구로구</option>
                                <option value="종로구">종로구</option>
                                <option value="강북구">강북구</option>
                                <option value="중랑구">중랑구</option>
                                <option value="강남구">강남구</option>
                                <option value="강서구">강서구</option>
                                <option value="중구">중구</option>
                                <option value="강동구">강동구</option>
                                <option value="광진구">광진구</option>
                                <option value="마포구">마포구</option>
                                <option value="서초구">서초구</option>
                                <option value="성북구">성북구</option>
                                <option value="노원구">노원구</option>
                                <option value="송파구">송파구</option>
                                <option value="서대문">서대문</option>
                                <option value="양천구">양천구</option>
                                <option value="영등포구">영등포구</option>
                                <option value="관악구">관악구</option>
                                <option value="성동구">성동구</option>
                                <option value="용산구">용산구</option>
                        </select>
                    </div>
                    <div class="form-group md-1">
                        <select class="form-control" name="dong" id="dong">
                            <option value="all" >동</option>
                        </select>
                    </div>
                </form>
                </div>
                </div>
            </div>
        </nav>


    </header>

    <!-- 지도 / 내집 마련 / 오늘의 뉴스 -->
    <section class="main-container">
        <div class="container">
            <div class="row">
            <!-- main start -->

            <!-- ================ -->
            <div class="main col-12">
                <!-- =======상품 정보  시작   반복 시작  ========= -->
                <div class="row grid-space-10">
                    <<div id="map" style="width: 100%; height: 300px; margin: auto;" class="mb-3"></div>
                    <p style="margin-top:-12px">
                        <em class="link">
                            <a href="javascript:void(0);" onclick="window.open('http://fiy.daum.net/fiy/map/CsGeneral.daum', '_blank', 'width=981, height=650')">
                                혹시 주소 결과가 잘못 나오는 경우에는 여기에 제보해주세요.
                            </a>
                        </em>
                    </p>
                    <div id="map" style="width:100%;height:350px;"></div>
                    
                    
                    <script>
                    var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
                        mapOption = {
                            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                            level: 3 // 지도의 확대 레벨
                        };  
                    
                    // 지도를 생성합니다    
                    var map = new kakao.maps.Map(mapContainer, mapOption); 
                    
                    // 주소-좌표 변환 객체를 생성합니다
                    var geocoder = new kakao.maps.services.Geocoder();
                    
                    // 주소로 좌표를 검색합니다
                    geocoder.addressSearch('제주특별자치도 제주시 첨단로 242', function(result, status) {
                    
                        // 정상적으로 검색이 완료됐으면 
                        if (status === kakao.maps.services.Status.OK) {
                    
                            var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
                    
                            // 결과값으로 받은 위치를 마커로 표시합니다
                            var marker = new kakao.maps.Marker({
                                map: map,
                                position: coords
                            });
                    
                            // 인포윈도우로 장소에 대한 설명을 표시합니다
                            var infowindow = new kakao.maps.InfoWindow({
                                content: '<div style="width:150px;text-align:center;padding:6px 0;">우리회사</div>'
                            });
                            infowindow.open(map, marker);
                    
                            // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
                            map.setCenter(coords);
                        } 
                    });    
                    </script>
                    
                </div>
                <!-- =======상품 정보  종료  반복 종료  ========= -->
                <div class="separator-2"></div>
                <!-- ======= 부가 화면 서비스   ========= -->
                <div class="row grid-space-10">
                <div class='col-md-4'>
                    <img src='./image/myhome.jpg' width="300">
                </div>
                <div class="col-md-4">
                    <h3 class="title">내 집 마련 관련 사이트</h3>
                    <div class="separator-2"></div>
                        <ul class="nav flex-column list-style-icons">
                            <li class="nav-item"><a class="nav-link " href="https://www.myhome.go.kr/hws/portal/sch/selectRsdtRcritNtcView.do" title="공공주택 찾기">공공주택 찾기</a></li>
                            <li class="nav-item"><a class="nav-link " href="http://nhuf.molit.go.kr/" title="주택도시기금">주택도시기금</a></li>
                            <li class="nav-item"><a class="nav-link " href="http://www.molit.go.kr/portal.do" title="국토교통부">국토교통부</a></li>
                            <li class="nav-item"><a class="nav-link " href="http://www.icross.co.kr/" title="교차로">교차로</a></li>
                        </ul>
                        <div class="separator-2"></div>
                    </div>
                    <div class="col-md-4">
                        <h3 class="title">부동산 근황</h3>
                        <div class="separator-2"></div>
                        <ul>
                            <li><a href="https://www.mk.co.kr/news/realestate/view/2021/09/847397/" class="small margin-clear" title="서울 아파트 사는 건 이제 어렵다…집없는 무주택자 매입 행렬 이어지는 곳">"서울 아파트 사는 건 이제 어렵다"…집없는 무주택자 매입 행렬 이어지는 곳</a></li>
                            <li><a href="https://www.fnnews.com/news/202109020827286065" class="small margin-clear" title="'내 집 마련' 수요자들, 수도권 중소도시 노크">'내 집 마련' 수요자들, 수도권 중소도시 노크</a></li>
                            <li><a href="http://news.kmib.co.kr/article/view.asp?arcid=0924207775&code=11151500&cp=nv" class="small margin-clear" title="좁아지는 내집마련 꿈… 들끓는 지방 집값">좁아지는 내집마련 꿈… 들끓는 지방 집값</a></li>
                            <li><a href="https://www.donga.com/news/article/all/20210901/109036525/1" class="small margin-clear" title="“지금이라도 사야 하나요?”…무주택자 내 집 마련 어떻게">“지금이라도 사야 하나?”…무주택자 내 집 마련 어떻게</a></li>
                        </ul>
                    </div>
                </div>
                <!-- =======상품 정보  종료  반복 종료  ========= -->
                <!-- pagination start -->
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center"></ul>
                </nav>
            <!-- pagination end -->
            </div>
            <!-- main end -->
            </div>
        </div>
    </section>
    <footer class="text-center bg-light text-muted p-4">
        copyright by SSAFY. All rights reserved.
    </footer>
</body>
</html>